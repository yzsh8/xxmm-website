<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    
    <link rel="stylesheet" href="https://g.alicdn.com/de/prismplayer/2.9.23/skins/default/aliplayer-min.css" />
  	<script charset="utf-8" type="text/javascript" src="https://g.alicdn.com/de/prismplayer/2.9.23/aliplayer-min.js"></script>

  <!--[if lte IE 8]>
  	<script charset="utf-8" type="text/javascript" src="https://g.alicdn.com/de/prismplayer/2.9.23/json/json.min.js"></script>
  <![endif]-->

    <script type="text/javascript" charset="utf-8" src="aliplayercomponents-1.0.8.min.js"></script>
</head>

<body>

<div id="player-con"></div>

</body>
</html>

<script type="text/javascript">

  var videoWidth = document.getElementById('player-con').clientWidth;
  var videoHeight = document.getElementById('player-con').clientHeight;

  var danmukuList = [{
            "mode": 4,
            "text": "[WWW.138.MG] baccarat, entertainment, chess and cards, lottery, sports, etc.",
            "stime": 1000,
            "size": 20,
            "x":0,
            "y":-40,
            "dur":4000*60,
            "color": 0xff0000
        },{
          "mode":17,
          "stime":2000,
          "text": "WWW.138.MG\n太阳城贵宾会",
          "size":40,
          "x":videoWidth - 250,
          "y":40,
          "align":1,
          "height":87,
          "dur":4000*3600,
          "color":0xD8C302,
          "img":"/images/shuiyin.png",
          "url":"/images/shuiyin.png"
      }]
	
  var player = new Aliplayer({
    id: "player-con",
    cover: 'https://img.alicdn.com/tps/TB1EXIhOFXXXXcIaXXXXXXXXXXX-760-340.jpg',
    source: "//player.alicdn.com/video/editor.mp4",
    width: "100%",
    height: "500px",
    autoplay: true,
    isLive: false,
    /*progressMarkers:[{
      offset: 30,
      isCustomized:true,
      coverUrl: 'https://alivc-demo-vod.aliyuncs.com/image/cover/9A3F562E595E4764AD1DD546FA52C6E5-6-2.png',
      title: 'test title',
      describe: 'test string',
    }, {
      offset:50,
      isCustomized:true,
      coverUrl: 'https://alivc-demo-vod.aliyuncs.com/image/cover/1E7F402241CD4C0F94AD2BBB5CCC3EC7-6-2.png',
      title: 'test title',
      describe: 'test string',
    }, {
      offset:150,
      isCustomized:true,
      coverUrl: 'https://alivc-demo-vod.aliyuncs.com/image/cover/553AEA01161342C8A2B1756E83B69B5B-6-2.png',
      title: 'test title',
      describe: 'test string',
    }],*/
    components: [{
      name: 'StartADComponent',  //开播广告
      type: AliPlayerComponent.StartADComponent,
      args: ['/images/ads-player.png', 'https://www.138.mg/', 2]
    }, {
      name: 'PauseADComponent',  //暂停广告
      type: AliPlayerComponent.PauseADComponent,
      args: ['/images/ads-player.png', 'https://www.138.mg/']
    },{
      name: 'BulletScreenComponent',  //跑马灯
      type: AliPlayerComponent.BulletScreenComponent,
      args: ['世界杯官方指定網路投註平臺【太陽城貴賓會-WWW.138.MG】公司主營：百家樂、電子遊藝、棋牌、彩票、體育投註等所有博彩項目，VIP貴賓專屬網址：WWW.138.MG', {fontSize: '25px', color: '#F5C400'}, 'top']
    },{
      name: 'RateComponent',  //播放倍数
      type: AliPlayerComponent.RateComponent
    /*},{
      name: 'ProgressComponent',  //多点标记
      type: AliPlayerComponent.ProgressComponent*/
    },{
      name: 'RotateMirrorComponent',  //  旋转镜像
      type: AliPlayerComponent.RotateMirrorComponent
    },{
      name: 'AliplayerDanmuComponent', // 弹幕组件
      type: AliPlayerComponent.AliplayerDanmuComponent,
      args: [danmukuList] //列表：注意需要外层的[ ]
    }

    ]
  }, function (player) {
      console.log("The player is created");

      var someDanmakuAObj = {
          "mode":1,   //测试模式只有1，4好用
          "text":"Hello CommentCoreLibrary",
          "stime":1000,
          "size":30,
          "dur":4000*10,
          "color":0xff0000
      };

      var danmu = player.getComponent('AliplayerDanmuComponent');

      danmu.insert(someDanmakuAObj);
      

      danmu.toString();
  });

</script>